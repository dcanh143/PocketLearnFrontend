import{r as V,u as b,c as y,w as l,o as h,a as e,_ as U,n as E,b as k,d as $,e as d,f as n,g as x,m as p,h as m,i as A,A as c}from"./index.8a2bd1dd.js";import{_ as S,a as B}from"./LayoutGuest.6ce6b2dc.js";import{_ as t}from"./FormField.4411d742.js";import{_ as r}from"./FormControl.9c0c548d.js";import{B as R}from"./constants.29383833.js";const M={__name:"RegisterView",setup(T){const u=["TEACHER","STUDENT"],o=V({login:"",pass:"",pass_remind:"",name:"",role:u[1]}),f=x(),_=b(),g=async()=>{await A.post(R+"/authentication/sign-up",{username:o.login,password:o.pass,name:o.name,role:o.role}).then(i=>{c({type:"success",title:"Th\xE0nh c\xF4ng",text:"\u0110\u0103ng k\xFD th\xE0nh c\xF4ng"}),_.setUser(i.data),f.push("/login")}).catch(i=>{c({type:"error",title:"L\u1ED7i",text:"Th\xF4ng tin kh\xF4ng h\u1EE3p l\u1EC7"})})};return(i,a)=>(h(),y(S,null,{default:l(()=>[e(B,{bg:"purplePink"},{default:l(({cardClass:w})=>[e(U,{class:E(w),"is-form":"",onSubmit:k(g,["prevent"])},{footer:l(()=>[e($,null,{default:l(()=>[e(d,{type:"submit",color:"info",label:"Login"}),e(d,{to:"/login",color:"info",outline:"",label:"Back to Login"})]),_:1})]),default:l(()=>[e(t,{label:"Name"},{default:l(()=>[e(r,{modelValue:o.name,"onUpdate:modelValue":a[0]||(a[0]=s=>o.name=s),icon:n(p),name:"login",autocomplete:"name",placeholder:"Enter your name"},null,8,["modelValue","icon"])]),_:1}),e(t,{label:"Username"},{default:l(()=>[e(r,{modelValue:o.login,"onUpdate:modelValue":a[1]||(a[1]=s=>o.login=s),icon:n(p),name:"login",autocomplete:"username",placeholder:"Enter your username"},null,8,["modelValue","icon"])]),_:1}),e(t,{label:"Password"},{default:l(()=>[e(r,{modelValue:o.pass,"onUpdate:modelValue":a[2]||(a[2]=s=>o.pass=s),icon:n(m),type:"password",name:"password",autocomplete:"current-password",placeholder:"Enter your password"},null,8,["modelValue","icon"])]),_:1}),e(t,{label:"Password"},{default:l(()=>[e(r,{modelValue:o.pass_remind,"onUpdate:modelValue":a[3]||(a[3]=s=>o.pass_remind=s),icon:n(m),type:"password",name:"password",autocomplete:"current-password",placeholder:"Enter your password"},null,8,["modelValue","icon"])]),_:1}),e(t,{label:"Role"},{default:l(()=>[e(r,{modelValue:o.role,"onUpdate:modelValue":a[4]||(a[4]=s=>o.role=s),icon:n(m),options:u,autocomplete:"current-password"},null,8,["modelValue","icon"])]),_:1})]),_:2},1032,["class","onSubmit"])]),_:1})]),_:1}))}};export{M as default};
