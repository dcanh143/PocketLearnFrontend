import{r as f,u as g,c as h,w as a,o as b,a as e,_ as w,n as V,b as y,d as $,e as i,f as r,g as x,m as S,h as k,i as A,A as l}from"./index.8a2bd1dd.js";import{_ as L,a as P}from"./LayoutGuest.6ce6b2dc.js";import{_ as u}from"./FormField.4411d742.js";import{_ as m}from"./FormControl.9c0c548d.js";import{B}from"./constants.29383833.js";const E={__name:"LoginView",setup(U){const s=f({login:"",pass:""}),c=x(),p=g(),_=async()=>{await A.post(B+"/authentication/sign-in",{username:s.login,password:s.pass}).then(t=>{l({type:"success",title:"Th\xE0nh c\xF4ng",text:"\u0110\u0103ng nh\u1EADp th\xE0nh c\xF4ng"}),p.setUser(t.data),c.push("/dashboard")}).catch(t=>{l({type:"error",title:"L\u1ED7i",text:"Sai th\xF4ng tin \u0111\u0103ng nh\u1EADp ho\u1EB7c m\u1EADt kh\u1EA9u"})})};return(t,o)=>(b(),h(L,null,{default:a(()=>[e(P,{bg:"purplePink"},{default:a(({cardClass:d})=>[e(w,{class:V(d),"is-form":"",onSubmit:y(_,["prevent"])},{footer:a(()=>[e($,null,{default:a(()=>[e(i,{type:"submit",color:"info",label:"Login"}),e(i,{to:"/register",color:"info",outline:"",label:"Register"})]),_:1})]),default:a(()=>[e(u,{label:"Login",help:"Please enter your login"},{default:a(()=>[e(m,{modelValue:s.login,"onUpdate:modelValue":o[0]||(o[0]=n=>s.login=n),icon:r(S),name:"login",autocomplete:"username"},null,8,["modelValue","icon"])]),_:1}),e(u,{label:"Password",help:"Please enter your password"},{default:a(()=>[e(m,{modelValue:s.pass,"onUpdate:modelValue":o[1]||(o[1]=n=>s.pass=n),icon:r(k),type:"password",name:"password",autocomplete:"current-password"},null,8,["modelValue","icon"])]),_:1})]),_:2},1032,["class","onSubmit"])]),_:1})]),_:1}))}};export{E as default};
